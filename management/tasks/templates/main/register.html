{% load static %}
<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Registration Page</title>
  <link rel="stylesheet" href="{% static 'css/register.css' %}">
</head>
<body>
  <header>
    <a href="/" class="logo">Task Manager</a>
  </header>

  <main class="registration-container">
    <h1>Регистрация</h1>
    <form class="registration-form"  method="POST">
      {% csrf_token %}
      <label for="full-name">ФИО</label>
      <input type="text" id="full-name" name="full_name" placeholder="Введите ваше полное имя" required>

      <label for="username">Логин</label>
      <input type="text" id="username" name="username" placeholder="Введите логин" required>

      <label for="email">Почта</label>
      <input type="email" id="email" name="email" placeholder="Введите адрес электронной почты" required>

      <label for="password">Пароль</label>
      <input type="password" id="password" name="password" placeholder="Введите пароль" required>

      <label for="confirm-password">Повторите пароль</label>
      <input type="password" id="confirm-password" name="confirm_password" placeholder="Повторите пароль" required>
        {% if messages and request.method == "POST" %}
          <ul class="messages">
            {% for message in messages %}
              <li class="{{ message.tags }}">{{ message }}</li>
            {% endfor %}
          </ul>
        {% endif %}

      <button type="submit" class="submit-btn">Зарегистрироваться</button>

        <script>
          document.querySelector('.submit-btn').addEventListener('click', function () {
            const messageList = document.querySelector('.messages');
            if (messageList) {
              messageList.innerHTML = ''; // Очищаем сообщения
              }
            });
        </script>
    </form>
  </main>

  <footer>
    <p>© 2025 TaskManager</p>
  </footer>
</body>
</html>
